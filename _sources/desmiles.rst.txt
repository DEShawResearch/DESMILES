Usage
====================



Finetuning of desmiles
******************************

Create a finetuned model
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

finetune_model.py will consume a CSV file of matched pairs and dump a learner that is finetuned to preferentially optimize the resulting molecules.  The typical CSV file has format: "SMILES_1, SMILES_2, similarity, delta_PI, P1, P2" with delta_PI the difference in the log10 of IC50 and delta_PI positive.  The code will only read the entries: "SMILES_1", "SMILES_2", and assume that all postprocessing to bring the CSV file to the correct format was done beforehand.  (FIXME: Share an example notebook that creates and inspects such a datasets of pairs from a single list of molecules with IC50 values.)


.. argparse::
    :module: finetune_model
    :func: get_parser
    :prog: finetune_model.py


Using finetuned model
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

read_saved_model.py will read the learner that was generated by finetuned_model and will apply it on a new set of small molecules.  The small molecules will first be converted to fingerprints and then regenerated in optimized versions using the finetuned model.  The parameter training_pairs (same as in finetune_model) is only used to separate novel molecules from those seen in the training set, if any such generated molecules exist.  


.. argparse::
   :module: read_saved_model
   :func: get_parser
   :prog: read_saved_model.py


Additional processing of results
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


.. argparse::
   :module: process_samples
   :func: get_parser
   :prog: process_samples.py



Python API
**********


desmiles.models
~~~~~~~~~~~~~~~


.. automodule:: desmiles.models
    :members: 
    :undoc-members:
    :show-inheritance:


desmiles.learner
~~~~~~~~~~~~~~~~


.. automodule:: desmiles.learner
    :members: 
    :undoc-members:
    :show-inheritance:


desmiles.data
~~~~~~~~~~~~~


.. automodule:: desmiles.data
    :members: 
    :undoc-members:
    :show-inheritance:


desmiles.decoding
~~~~~~~~~~~~~~~~~


.. automodule:: desmiles.decoding.astar
    :members: 
    :undoc-members:
    :show-inheritance:


.. automodule:: desmiles.decoding.greedy
    :members: 
    :undoc-members:
    :show-inheritance:


desmiles.utils
~~~~~~~~~~~~~~


.. automodule:: desmiles.utils
    :members: 
    :undoc-members:
    :show-inheritance:






       
